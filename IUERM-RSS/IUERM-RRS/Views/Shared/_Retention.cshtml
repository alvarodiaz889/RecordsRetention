<div style="width: 50%; margin: 0 auto;">
    <div id="retentionContainer">
        <div class="modal-header">
            <h3 class="section-title capitalize">Retentions</h3>
        </div>

        <script>
            function OnRequestEnd(e) {
                if (e.type == "update" || e.type == "create" || e.type == "remove") {
                    $("#grid").data("kendoGrid").dataSource.read();
                }
            }
        </script>

        <hr />
        @(Html.Kendo().Grid<IUERM_RRS.ViewModels.RetentionViewModel>()
                    .Name("grid")
                    .Columns(columns =>
                    {
                        columns.Bound(o => o.Id).Visible(false);
                        columns.Bound(o => o.BasedOnCode);
                        columns.Bound(o => o.BaseOnDescription);
                        columns.Command(command => { command.Edit().Text(" ").CancelText(" ").UpdateText(" "); command.Destroy().Text(" "); })                            .Width(100);
                    })
                    .Scrollable()
                    .DataSource(dataSource => dataSource
                        .Ajax()
                        .ServerOperation(true)
                        .Model(model => model.Id(o => o.Id))
                        .Read(read => read.Action("ReadRetentions", "Main"))
                        .Destroy(destroy => destroy.Action("DestroyRetention", "Main"))
                        .Update(update => update.Action("UpdateRetention", "Main"))
                        .Create(create => create.Action("CreateRetention", "Main"))
                        .Events(e => e.RequestEnd("OnRequestEnd"))
                        )
                    .Sortable()
                    .Filterable()
                    .ToolBar(toolbar => { toolbar.Create().Text("Add"); toolbar.Excel().Text("Export"); })
                    .Editable(editable => editable.Mode(GridEditMode.InLine))
                    .NoRecords("No Records.")
                    .Excel(excel => excel.FileName("Retentions.xlsx").Filterable(true).AllPages(true))
        )
    </div>
    <br/>
</div>

    
